.panzoom-toolbar {
  position: absolute;
  z-index: 10;
  display: flex;
  gap: 5px;
  padding: 5px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 4px;
  transition: opacity 0.2s ease-in-out;
}

*:hover > .panzoom-toolbar {
  opacity: 1 !important;
}

.panzoom-toolbar-top-right {
  top: 10px;
  right: 10px;
}

.panzoom-toolbar-top-left {
  top: 10px;
  left: 10px;
}

.panzoom-toolbar-bottom-right {
  bottom: 10px;
  right: 10px;
}

.panzoom-toolbar-bottom-left {
  bottom: 10px;
  left: 10px;
}

.panzoom-toolbar button {
  width: 30px;
  height: 30px;
  cursor: pointer;
  border: 1px solid #ddd;
  border-radius: 3px;
  background-color: #fff;
  padding: 0;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ── Expand feature ──────────────────────────────────────────────────────── */

/*
 * In expand mode the toolbar switches from absolute (relative to its container)
 * to fixed (relative to the viewport) so the buttons remain visible while the
 * user pans/zooms the full-screen diagram.
 * Positional classes (top-right, top-left, etc.) continue to control placement.
 */
.panzoom-expand-active > .panzoom-toolbar {
  position: fixed;
  z-index: 9999;
}

.panzoom-expand-active > .panzoom-toolbar-top-right {
  top: 10px;
  right: 10px;
}

.panzoom-expand-active > .panzoom-toolbar-top-left {
  top: 10px;
  left: 10px;
}

.panzoom-expand-active > .panzoom-toolbar-bottom-right {
  bottom: 10px;
  right: 10px;
}

.panzoom-expand-active > .panzoom-toolbar-bottom-left {
  bottom: 10px;
  left: 10px;
}

/*
 * Hide elements tagged with panzoom-expand-hidden at all viewport sizes.
 * This covers the sidebar, TOC column, navbar, and footer.
 * The [class] attribute selector bumps specificity from (0,1,0) to (0,2,0),
 * beating any theme display:block regardless of stylesheet load order.
 */
.panzoom-expand-hidden[class] {
  display: none !important;
}

/*
 * Layout overrides scoped to @media (min-width: 997px) — the breakpoint where
 * Docusaurus activates the docMainContainer width cap and docItemCol 75%
 * constraint. Below 997px those rules don't exist so no override is needed.
 */
@media (min-width: 997px) {
  /*
   * Expand the main content container (main[class*="docMainContainer"]) to
   * fill the full width vacated by the hidden sidebar.
   */
  .panzoom-expand-main[class] {
    max-width: 100% !important;
    flex-grow: 1 !important;
  }

  /*
   * Expand the doc content column ([class*="docItemCol"]) from 75% to 95%
   * within the now-full-width main container.
   */
  .panzoom-expand-doc-item[class] {
    max-width: 95% !important;
  }
}

/*
 * Remove the infima .container max-width cap so the content fills the full
 * available width. Infima defines two rules:
 *   - base (no query) : max-width: var(--ifm-container-width)   → 1140px
 *   - @media ≥1440px  : max-width: var(--ifm-container-width-xl) → 1320px
 * Both use a single class selector (0,1,0) so [class] raises us to (0,2,0).
 */
.panzoom-expand-container[class] {
  max-width: 100% !important;
}

@media (min-width: 1440px) {
  .panzoom-expand-container[class] {
    max-width: 100% !important;
  }
}

/*
 * Hide all content siblings of the panzoom container (headings, paragraphs,
 * breadcrumbs, footer, paginator, etc.) so only the panzoom image is visible.
 * Applied at every DOM level from the container up to <article>.
 * No media-query scope needed — siblings exist at all viewport sizes.
 */
.panzoom-expand-sibling {
  display: none !important;
}
